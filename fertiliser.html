<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link rel="stylesheet" href="assets/styles.css" />

    <title>AlgoFarm</title>
  </head>
  <body>
    <!-- navbar -->
    <nav>
      <div>
        <h1 class="logo">Algo<span>Farm</span></h1>
      </div>
      <ul class="nav_links">
        <li><a href="index.html">Home</a></li>
        <li><a href="/frontend/crop.html">Crop</a></li>
        <li><a href="/frontend/fertiliser.html">Fertiliser</a></li>
        <li><a href="/frontend/disease.html">Disease</a></li>
        <li><a href="/frontend/blog.html">Blog</a></li>
        <li>
          <button type="toggle" class="toggle-btn">
            <i class="fa-solid fa-moon"></i>
          </button>
        </li>
        <li>
          <!-- applying google translation to whole page -->
          <div id="google_translate_element"></div>
          <script type="text/javascript">
            function googleTranslateElementInit() {
              new google.translate.TranslateElement(
                { pageLanguage: "en" },
                "google_translate_element"
              );
            }
          </script>
          <script
            type="text/javascript"
            src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"
          ></script>
        </li>
      </ul>
    </nav>
    <!-- form section -->
    <section class="container">
      <form class="form_container" id="fertiliser-form">
        <div class="input_container">
          <label for="nitrogen">Nitrogen</label>
          <input
            type="text"
            name="nitrogen"
            id="nitrogen"
            placeholder="Enter the value"
          />
        </div>

        <div class="input_container">
          <label for="phodphorus">Phosphorus</label>
          <input
            type="text"
            name="phosphorus"
            id="phosphorus"
            placeholder="Enter the value"
          />
        </div>

        <div class="input_container">
          <label for="potassium">Potassium</label>
          <input
            type="text"
            name="potassium"
            id="potassium"
            placeholder="Enter the value"
          />
        </div>

        <!-- crops -->
        <div class="input_container">
          <label for="name">Crop you want to grow</label>
          <select name="crop" id="crop" class="form-control">
            <option selected>Select crop</option>
            <option>rice</option>
            <option>maize</option>
            <option>chickpea</option>
            <option>kidneybeans</option>
            <option>pigeonpeas</option>
            <option>mothbeans</option>
            <option>mungbean</option>
            <option>blackgram</option>
            <option>lentil</option>
            <option>pomegranate</option>
            <option>banana</option>
            <option>mango</option>
            <option>grapes</option>
            <option>watermelon</option>
            <option>muskmelon</option>
            <option>apple</option>
            <option>orange</option>
            <option>papaya</option>
            <option>coconut</option>
            <option>cotton</option>
            <option>jute</option>
            <option>coffee</option>
          </select>
        </div>

        <div class="input_container">
          <button type="submit" class="btn">Recommend</button>
        </div>
      </form>
    </section>

    <script>
      const fertiliserform = document.querySelector("#fertiliser-form");
      // fertilizer form submit
      fertiliserform.addEventListener("submit", (e) => {
        e.preventDefault();

        const formData = new FormData(fertiliserform);

        // Convert formData to JSON
        const data = {};
        formData.forEach((value, key) => {
          data[key] = value;
        });

        const json = JSON.stringify(data);
        localStorage.setItem('fdata',json);

window.location.href = 'fertiliserresult.html';
        //   // Send JSON to backend

        //   fetch('/api/predict', {
        //     method: 'POST',
        //     headers: {
        //       'Content-Type': 'application/json'
        //     },
        //     body: json
        //   })
        //   .then(response => response.json())
        //   .then(data => {
        //     console.log(data); // handle response from backend
        //   })
        //   .catch(error => {
        //     console.error(error); // handle error
        //   });

        // window.location.href = 'cropresult.html';
      });
      const icon = document.querySelector(".toggle-btn");

      // dark mode toggle
      icon.addEventListener("click", () => {
        document.body.classList.toggle("dark-theme");
        if (document.body.classList.contains("dark-theme")) {
          icon.innerHTML = '<i class="fas fa-sun"></i>';
        } else {
          icon.innerHTML = '<i class="fas fa-moon"></i>';
        }
      });
    </script>
  </body>
</html>
